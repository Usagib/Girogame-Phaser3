!function(e){var t={};function s(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t){var s,a,i,r,l,n,o,d,h,c,m,p,u,y,f,g,b,k,v={type:Phaser.AUTO,width:1024,height:600,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:{preload:function(){this.load.image("piso","../src/assets/platform.png"),this.load.spritesheet("robot","../src/assets/bot.png",{frameWidth:52,frameHeight:52}),this.load.spritesheet("firebullet","../src/assets/firebullet.png",{frameWidth:40,frameHeight:40}),this.load.spritesheet("coin","../src/assets/coin.png",{frameWidth:120,frameHeight:120}),this.load.spritesheet("whiteslime","../src/assets/slimewhite.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("redslime","../src/assets/slimered.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("greenslime","../src/assets/slimegreen.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("littleslime","../src/assets/littleslime.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("skull","../src/assets/fire-skull.png",{frameWidth:96,frameHeight:112}),this.load.spritesheet("bossidle","../src/assets/bossidle.png",{frameWidth:160,frameHeight:144}),this.load.spritesheet("bossattack","../src/assets/bossattack.png",{frameWidth:192,frameHeight:176}),this.load.spritesheet("bossbullet","../src/assets/bossbullet.png",{frameWidth:130,frameHeight:130}),this.load.image("tiles","../src/assets/tilemap/tileset1.png"),this.load.tilemapTiledJSON("map","../src/assets/tilemap/map1.json"),this.load.image("background4","../src/assets/background/back1.png"),this.load.image("background3","../src/assets/background/farback.png"),this.load.image("background2","../src/assets/background/far.png"),this.load.image("background1","../src/assets/background/farfront.png"),this.load.audio("rudebuster","../src/assets/levelmusic.mp3")},create:function(){function e(e,t){e.x-=15,e.setTint(16711680),this.time.addEvent({delay:200,callback:()=>{e.x-=15,e.setTint(16777215)}})}function t(e,t){e.setTint(16711680),t.disableBody(!0,!0),this.time.addEvent({delay:200,callback:()=>{e.setTint(16777215)}})}function w(e,t){e.disableBody(!0,!0)}this.sound.add("rudebuster"),(u=this.add.tileSprite(0,0,v.width,v.height,"background4")).setOrigin(0,0),u.setScrollFactor(0),u.setScale(6),(y=this.add.tileSprite(0,0,v.width,v.height,"background3")).setOrigin(0,0),y.setScrollFactor(0),y.setScale(6),(f=this.add.tileSprite(0,0,v.width,v.height,"background2")).setOrigin(0,0),f.setScrollFactor(0),f.setScale(6),(g=this.add.tileSprite(0,0,v.width,v.height,"background1")).setOrigin(0,0),g.setScrollFactor(0),g.setScale(6),this.cameras.main.setBounds(0,0,7700,950),i=this.make.tilemap({key:"map"}),r=i.addTilesetImage("tileset1","tiles"),(l=i.createStaticLayer("GroundLayer",r,0,200)).setScale(.3),l.setCollisionByExclusion(-1,!0),s=this.physics.add.sprite(100,450,"robot"),(b=this.physics.add.sprite(7550,350,"bossidle")).setGravityY(-300),b.setScale(1.3),(n=this.physics.add.group({key:"coin",repeat:50,setXY:{x:100,y:0,stepX:100}})).children.iterate((function(e){e.setScale(.2),e.setBounce(.5)})),o=this.physics.add.group(),(d=this.physics.add.group({key:"whiteslime",repeat:10,setXY:{x:225,y:0,stepX:555}})).children.iterate((function(e){e.setScale(1.5),e.setSize(2,10,!0)})),(h=this.physics.add.group({key:"redslime",repeat:Phaser.Math.Between(20,25),setXY:{x:300,y:0,stepX:Phaser.Math.Between(200,600),stepY:Phaser.Math.Between(0,10)}})).children.iterate((function(e){e.setScale(2)})),this.time.addEvent({delay:5e3,callback:()=>{h.children.iterate((function(e){e.setVelocityY(-300)}))},loop:!0}),p=this.physics.add.group(),this.time.addEvent({delay:2500,callback:()=>{p.create(Phaser.Math.Between(2e3,6300),Phaser.Math.Between(0,900),"skull"),p.children.iterate((function(e){e.setGravityY(-300),e.setScale(.7),e.setVelocityX(-160),e.anims.play("skullfly",!0)}))},loop:!0}),c=this.physics.add.group(),m=this.physics.add.group(),k=this.physics.add.group(),this.time.addEvent({delay:1e4,callback:()=>{c.create(Phaser.Math.Between(1500,6e3),Phaser.Math.Between(500,900),"greenslime"),c.children.iterate((function(e){e.setScale(1.7),e.setGravityY(-305),e.anims.play("floatslime",!0)}))},loop:!0}),this.time.addEvent({delay:6e3,callback:()=>{c.children.iterate((function(e){m.create(e.x,e.y,"littleslime"),m.children.iterate((function(e){e.setScale(1.3),e.setBounce(.5)}))}))},loop:!0}),this.time.addEvent({delay:3e3,callback:()=>{m.children.iterate((function(e){e.setVelocityY(-300),e.setVelocityX(-30)}))},loop:!0}),s.setBounce(.2),s.body.setGravityY(300),this.cameras.main.startFollow(s,!0),this.anims.create({key:"bossbullet",frames:this.anims.generateFrameNumbers("bossbullet",{start:0,end:6}),frameRate:5,yoyo:!0,repeat:-1}),this.anims.create({key:"bossattack",frames:this.anims.generateFrameNumbers("bossattack",{start:0,end:7}),frameRate:20}),this.anims.create({key:"bossidle",frames:this.anims.generateFrameNumbers("bossidle",{start:0,end:5}),frameRate:5,repeat:-1}),this.anims.create({key:"skullfly",frames:this.anims.generateFrameNumbers("skull",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"walkslime",frames:this.anims.generateFrameNumbers("whiteslime",{start:0,end:15}),frameRate:6,repeat:-1}),this.anims.create({key:"jumpslime",frames:this.anims.generateFrameNumbers("redslime",{start:0,end:15}),frameRate:6,repeat:-1}),this.anims.create({key:"floatslime",frames:this.anims.generateFrameNumbers("greenslime",{start:0,end:15}),frameRate:12,repeat:-1}),this.anims.create({key:"fireshoot",frames:this.anims.generateFrameNumbers("firebullet",{start:0,end:8}),frameRate:5}),this.anims.create({key:"coinidle",frames:this.anims.generateFrameNumbers("coin",{start:0,end:7}),frameRate:5,repeat:-1}),this.anims.create({key:"idle",frames:this.anims.generateFrameNumbers("robot",{start:0,end:6}),frameRate:3,repeat:-1}),this.anims.create({key:"walk",frames:this.anims.generateFrameNumbers("robot",{start:8,end:14}),frameRate:5,repeat:-1}),this.anims.create({key:"shoot",frames:this.anims.generateFrameNumbers("robot",{start:16,end:20}),frameRate:30}),this.anims.create({key:"jump",frames:this.anims.generateFrameNumbers("robot",{start:32,end:36}),frameRate:10,repeat:-1}),this.anims.create({key:"death",frames:this.anims.generateFrameNumbers("robot",{start:35,end:44}),frameRate:5}),a=this.input.keyboard.createCursorKeys(),this.physics.add.collider(s,l),this.physics.add.collider(n,l),this.physics.add.collider(b,l),this.physics.add.collider(k,l,w,null,this),this.physics.add.collider(d,l),this.physics.add.collider(h,l),this.physics.add.collider(m,l),this.physics.add.overlap(s,d,e,null,this),this.physics.add.overlap(s,h,e,null,this),this.physics.add.overlap(s,m,t,null,this),this.physics.add.overlap(s,p,t,null,this),this.physics.add.overlap(s,c,e,null,this),this.physics.add.overlap(s,k,t,null,this),this.physics.add.collider(o,l,w,null,this),this.physics.add.overlap(s,n,(function(e,t){t.disableBody(!0,!0)}),null,this),this.anims.staggerPlay("coinidle",n.getChildren(),.03),this.anims.staggerPlay("walkslime",d.getChildren(),.03),this.anims.staggerPlay("jumpslime",h.getChildren(),.03),this.anims.staggerPlay("skullfly",p.getChildren(),.03),this.anims.staggerPlay("bossidle",b,.03),this.time.addEvent({delay:1e3,callback:()=>{b.anims.play("bossattack");k.create(b.x,b.y,"bossbullet");k.children.iterate((function(e){e.setScale(.3),e.setGravityY(-290),e.setVelocityX(-200),e.setBounce(.8),e.anims.play("bossbullet",!0)}))},loop:!0}),this.tweens.add({targets:b,props:{y:{value:"+=500",duration:2e3}},ease:"sine.easeInOut",yoyo:!0,repeat:-1}),this.tweens.add({targets:d.getChildren(),props:{x:{value:"+=100",duration:1500}},ease:"Sine.easeInOut",yoyo:!0,repeat:-1})},update:function(){var e=this.cameras.main;this.anims.staggerPlay("fireshoot",o.getChildren(),.03),!1;a.left.isDown?(s.setVelocityX(-160),s.anims.play("walk",!0),e.scrollX-=4,y.tilePositionX-=.1,f.tilePositionX-=.2,g.tilePositionX-=.3):a.right.isDown?(s.setVelocityX(160),s.anims.play("walk",!0),e.scrollX+=4,y.tilePositionX+=.1,f.tilePositionX+=.2,g.tilePositionX+=.3):(s.setVelocityX(0),s.anims.play("idle",!0));a.up.isDown&&s.body.onFloor()&&(s.setVelocityY(-550),s.anims.play("jump",!0));if(this.input.keyboard.checkDown(a.space,300)){console.log(s.x);var t=o.create(s.x+40,s.y+15,"firebullet");a.left.isDown?t.setVelocityX(-500):t.setVelocityX(500),t.body.setGravityY(-300)}s.body.velocity.x>0?s.setFlipX(!1):s.body.velocity.x<0&&s.setFlipX(!0)}}};new Phaser.Game(v)}]);